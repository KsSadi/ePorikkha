<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Question Interface</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #5a5af3;
            --primary-light: #eeeeff;
            --secondary-color: #ff7373;
            --text-color: #333;
            --light-bg: #f9faff;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
        }
        body {
            background: linear-gradient(135deg, #f9faff 0%, #f0f3ff 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color);
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }
        .question-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .logo-icon {
            font-size: 1.8rem;
            margin-right: 10px;
        }
        .user-info {
            display: flex;
            align-items: center;
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-weight: bold;
            margin-right: 12px;
            box-shadow: 0 3px 8px rgba(90, 90, 243, 0.2);
        }
        .user-name {
            font-weight: 600;
        }
        .user-role {
            color: #777;
            font-size: 0.85rem;
        }
        .main-content {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
        .sidebar {
            width: 300px;
            flex-shrink: 0;
        }
        .timer-card {
            background-color: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
            margin-bottom: 25px;
            transition: all 0.3s;
        }
        .timer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .timer-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        .timer-display {
            background: linear-gradient(135deg, var(--primary-color) 0%, #7d7df8 100%);
            color: white;
            border-radius: 12px;
            padding: 15px;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(90, 90, 243, 0.3);
            position: relative;
            overflow: hidden;
        }
        .timer-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right, 
                rgba(255,255,255,0) 0%,
                rgba(255,255,255,0.3) 50%,
                rgba(255,255,255,0) 100%
            );
            transform: rotate(30deg);
            animation: shine 4s infinite linear;
        }
        @keyframes shine {
            0% { transform: translateX(-100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }
        .timer-warning {
            color: var(--warning-color);
        }
        .timer-danger {
            color: var(--danger-color);
        }
        .timer-text {
            color: #777;
            font-size: 0.9rem;
        }
        .progress-card {
            background-color: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        .progress-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        .progress-bar-container {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), #7d7df8);
            border-radius: 4px;
        }
        .instructions-card {
            background-color: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .instructions-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .instructions-title i {
            margin-right: 10px;
        }
        .instructions-list {
            padding-left: 20px;
            margin-bottom: 0;
        }
        .instructions-list li {
            margin-bottom: 10px;
            color: #555;
        }
        .instructions-list li:last-child {
            margin-bottom: 0;
        }
        .content-area {
            flex: 1;
        }
        .question-card {
            background-color: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .question-info {
            display: flex;
            align-items: center;
        }
        .question-number {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            background-color: var(--primary-light);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            margin-right: 15px;
        }
        .question-meta {
            color: #777;
            font-size: 0.9rem;
        }
        .question-meta span {
            display: inline-block;
            margin-right: 15px;
        }
        .question-meta i {
            margin-right: 5px;
        }
        .question-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        .question-text {
            color: #555;
            line-height: 1.7;
            margin-bottom: 25px;
        }
        .question-image {
            max-width: 100%;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        .answer-card {
            background-color: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .answer-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .answer-title i {
            margin-right: 10px;
        }
        .nav-tabs {
            border-bottom: 2px solid #eee;
            margin-bottom: 25px;
            gap: 15px;
        }
        .nav-tabs .nav-link {
            border: none;
            padding: 10px 20px;
            font-weight: 600;
            color: #777;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s;
        }
        .nav-tabs .nav-link.active {
            color: var(--primary-color);
            background-color: var(--primary-light);
            border-bottom: 2px solid var(--primary-color);
        }
        .nav-tabs .nav-link:hover:not(.active) {
            background-color: #f8f9fa;
        }
        .tab-content {
            padding: 10px 0;
        }
        .form-control {
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 12px;
            resize: none;
            transition: all 0.3s;
        }
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(90, 90, 243, 0.1);
        }
        .form-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }
        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            margin-bottom: 20px;
        }
        .upload-area:hover {
            border-color: var(--primary-color);
            background-color: var(--primary-light);
        }
        .upload-icon {
            font-size: 3rem;
            color: #ccc;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        .upload-area:hover .upload-icon {
            color: var(--primary-color);
        }
        .upload-text {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .upload-subtext {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        .upload-btn {
            display: inline-flex;
            align-items: center;
            background-color: var(--primary-light);
            color: var(--primary-color);
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .upload-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }
        .upload-btn i {
            margin-right: 8px;
        }
        .file-list {
            margin-top: 20px;
        }
        .file-item {
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 10px;
        }
        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            margin-right: 15px;
        }
        .file-info {
            flex: 1;
        }
        .file-name {
            font-weight: 600;
            margin-bottom: 2px;
        }
        .file-size {
            color: #777;
            font-size: 0.85rem;
        }
        .file-actions {
            display: flex;
            gap: 10px;
        }
        .file-action {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .file-view {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }
        .file-view:hover {
            background-color: var(--primary-color);
            color: white;
        }
        .file-delete {
            background-color: #ffeeee;
            color: var(--danger-color);
        }
        .file-delete:hover {
            background-color: var(--danger-color);
            color: white;
        }
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        .btn-custom {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(45deg, var(--primary-color), #7d7df8);
            border: none;
            box-shadow: 0 5px 15px rgba(90, 90, 243, 0.2);
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, #4b4bea, #6e6ef7);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(90, 90, 243, 0.3);
        }
        .btn-outline {
            border: 2px solid #ddd;
            background-color: transparent;
            color: #777;
        }
        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        .btn-icon {
            margin-right: 8px;
        }
        .word-count {
            color: #777;
            font-size: 0.9rem;
            text-align: right;
            margin-top: 10px;
        }
        .tooltip-icon {
            color: #777;
            margin-left: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tooltip-icon:hover {
            color: var(--primary-color);
        }
        .saved-indicator {
            display: flex;
            align-items: center;
            color: var(--success-color);
            font-size: 0.9rem;
            margin-top: 15px;
        }
        .saved-indicator i {
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="question-container">
        <div class="header">
            <div class="logo">
                <i class="fas fa-graduation-cap logo-icon"></i>
                <span>ExamPro</span>
            </div>
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">J</div>
                <div>
                    <div class="user-name" id="studentName">John Doe</div>
                    <div class="user-role">Student</div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="timer-card">
                    <div class="timer-title">Time Remaining</div>
                    <div class="timer-display" id="timerDisplay">14:59</div>
                    <div class="timer-text">Please submit before time expires</div>
                </div>
                
                <div class="progress-card">
                    <div class="progress-title">Your Progress</div>
                    <div class="progress-info">
                        <span>Question 3 of 10</span>
                        <span>30% Complete</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" style="width: 30%;"></div>
                    </div>
                </div>
                
                <div class="instructions-card">
                    <div class="instructions-title">
                        <i class="fas fa-info-circle"></i> Instructions
                    </div>
                    <ul class="instructions-list">
                        <li>Read the question carefully before answering.</li>
                        <li>You can submit your answer using text or by uploading files.</li>
                        <li>For file uploads, acceptable formats are: PDF, DOC, DOCX, JPG, PNG.</li>
                        <li>Maximum file size: 10MB per file.</li>
                        <li>You can submit multiple files if needed.</li>
                        <li>Your answer is automatically saved every 30 seconds.</li>
                        <li>Once submitted, you cannot change your answer.</li>
                    </ul>
                </div>
            </div>
            
            <div class="content-area">
                <div class="question-card">
                    <div class="question-header">
                        <div class="question-info">
                            <div class="question-number">3</div>
                            <div>
                                <h2>Advanced Data Structures</h2>
                                <div class="question-meta">
                                    <span><i class="fas fa-award"></i> Points: 20</span>
                                    <span><i class="fas fa-clock"></i> Time: 15 minutes</span>
                                    <span><i class="fas fa-signal"></i> Difficulty: Hard</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-title">
                        Explain the implementation and advantages of a Red-Black Tree data structure.
                    </div>
                    
                    <div class="question-text">
                        <p>A Red-Black Tree is a self-balancing binary search tree where each node contains an extra bit for denoting the color of the node, either red or black. These colors are used to ensure that the tree remains approximately balanced during insertions and deletions.</p>
                        
                        <p>Your task is to:</p>
                        <ol>
                            <li>Explain the properties that a Red-Black Tree must satisfy.</li>
                            <li>Describe the insertion process in a Red-Black Tree and how the tree maintains its balance after insertion.</li>
                            <li>Compare the time complexity of operations in a Red-Black Tree with those in an AVL Tree.</li>
                            <li>Provide at least one real-world application where Red-Black Trees are particularly useful.</li>
                        </ol>
                        
                        <p>You may include diagrams or code examples to support your explanation. Be specific and provide detailed explanations where needed.</p>
                    </div>
                    
                    <img src="/api/placeholder/800/400" alt="Red-Black Tree Example" class="question-image">
                </div>
                
                <div class="answer-card">
                    <div class="answer-title">
                        <i class="fas fa-pen-fancy"></i> Your Answer
                    </div>
                    
                    <ul class="nav nav-tabs" id="answerTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-answer" type="button" role="tab" aria-controls="text-answer" aria-selected="true">
                                <i class="fas fa-font"></i> Text Response
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="file-tab" data-bs-toggle="tab" data-bs-target="#file-answer" type="button" role="tab" aria-controls="file-answer" aria-selected="false">
                                <i class="fas fa-file-upload"></i> File Upload
                            </button>
                        </li>
                    </ul>
                    
                    <div class="tab-content" id="answerTabsContent">
                        <div class="tab-pane fade show active" id="text-answer" role="tabpanel" aria-labelledby="text-tab">
                            <div class="form-group">
                                <label for="answerText" class="form-label">Type your answer here</label>
                                <textarea class="form-control" id="answerText" rows="12" placeholder="Start typing your answer..."></textarea>
                                <div class="word-count">Word count: <span id="wordCount">0</span> words</div>
                                <div class="saved-indicator">
                                    <i class="fas fa-check-circle"></i> Last saved: 2 minutes ago
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-pane fade" id="file-answer" role="tabpanel" aria-labelledby="file-tab">
                            <div class="upload-area" id="dropZone">
                                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                <div class="upload-text">Drag & Drop files here</div>
                                <div class="upload-subtext">or</div>
                                <label for="fileInput" class="upload-btn">
                                    <i class="fas fa-folder-open"></i> Browse Files
                                </label>
                                <input type="file" id="fileInput" style="display: none;" multiple>
                            </div>
                            
                            <div class="file-list">
                                <div class="file-item">
                                    <div class="file-icon">
                                        <i class="fas fa-file-pdf"></i>
                                    </div>
                                    <div class="file-info">
                                        <div class="file-name">Red-Black-Tree-Analysis.pdf</div>
                                        <div class="file-size">2.4 MB</div>
                                    </div>
                                    <div class="file-actions">
                                        <div class="file-action file-view">
                                            <i class="fas fa-eye"></i>
                                        </div>
                                        <div class="file-action file-delete">
                                            <i class="fas fa-trash"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="file-item">
                                    <div class="file-icon">
                                        <i class="fas fa-file-image"></i>
                                    </div>
                                    <div class="file-info">
                                        <div class="file-name">tree-diagram.png</div>
                                        <div class="file-size">1.8 MB</div>
                                    </div>
                                    <div class="file-actions">
                                        <div class="file-action file-view">
                                            <i class="fas fa-eye"></i>
                                        </div>
                                        <div class="file-action file-delete">
                                            <i class="fas fa-trash"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-outline btn-custom">
                            <i class="fas fa-save btn-icon"></i> Save Draft
                        </button>
                        <button class="btn btn-primary btn-custom" id="submitBtn">
                            <i class="fas fa-paper-plane btn-icon"></i> Submit Answer
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize timer countdown
            let minutes = 14;
            let seconds = 59;
            const timerDisplay = document.getElementById('timerDisplay');
            
            const timerInterval = setInterval(function() {
                seconds--;
                
                if (seconds < 0) {
                    minutes--;
                    seconds = 59;
                }
                
                if (minutes < 0) {
                    clearInterval(timerInterval);
                    alert("Time's up! Your answer will be submitted automatically.");
                    document.getElementById('submitBtn').click();
                    return;
                }
                
                // Format time display
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Add warning color when less than 5 minutes remain
                if (minutes < 5) {
                    timerDisplay.classList.add('timer-warning');
                }
                
                // Add danger color when less than 2 minutes remain
                if (minutes < 2) {
                    timerDisplay.classList.remove('timer-warning');
                    timerDisplay.classList.add('timer-danger');
                }
            }, 1000);
            
            // Word count functionality
            const answerText = document.getElementById('answerText');
            const wordCount = document.getElementById('wordCount');
            
            answerText.addEventListener('input', function() {
                const text = this.value.trim();
                const words = text ? text.split(/\s+/).length : 0;
                wordCount.textContent = words;
            });
            
            // File upload handling
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('fileInput');
            
            dropZone.addEventListener('click', function() {
                fileInput.click();
            });
            
            dropZone.addEventListener('dragover', function(e) {
                e.preventDefault();
                dropZone.style.borderColor = var(--primary-color);
                dropZone.style.backgroundColor = var(--primary-light);
            });
            
            dropZone.addEventListener('dragleave', function() {
                dropZone.style.borderColor = '#ccc';
                dropZone.style.backgroundColor = 'transparent';
            });
            
            dropZone.addEventListener('drop', function(e) {
                e.preventDefault();
                dropZone.style.borderColor = '#ccc';
                dropZone.style.backgroundColor = 'transparent';
                
                if (e.dataTransfer.files.length > 0) {
                    handleFiles(e.dataTransfer.files);
                }
            });
            
            fileInput.addEventListener('change', function() {
                if (this.files.length > 0) {
                    handleFiles(this.files);
                }
            });
            
            function handleFiles(files) {
                // In a real application, this would upload the files to the server
                // For this demo, we'll just log the file names
                console.log('Files selected:');
                for (let i = 0; i < files.length; i++) {
                    console.log(files[i].name, files[i].size);
                }
                
                alert(`${files.length} file(s) selected. In a real application, these would be processed for upload.`);
            }
            
            // File action handlers
            const viewButtons = document.querySelectorAll('.file-view');
            const deleteButtons = document.querySelectorAll('.file-delete');
            
            viewButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const fileName = this.closest('.file-item').querySelector('.file-name').textContent;
                    alert(`Viewing file: ${fileName}`);
                });
            });
            
            deleteButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const fileItem = this.closest('.file-item');
                    const fileName = fileItem.querySelector('.file-name').textContent;
                    
                    if (confirm(`Are you sure you want to delete ${fileName}?`)) {
                        fileItem.remove();
                    }
                });
            });
            
            // Submit button handler
            document.getElementById('submitBtn').addEventListener('click', function() {
                const activeTab = document.querySelector('.nav-link.active').id;
                
                if (activeTab === 'text-tab') {
                    const answer = document.getElementById('answerText').value.trim();
                    if (!answer) {
                        alert('Please provide an answer before submitting.');
                        return;
                    }
                } else {
                    const fileItems = document.querySelectorAll('.file-item');
                    if (fileItems.length === 0) {
                        alert('Please upload at least one file before submitting.');
                        return;
                    }
                }
                
                if (confirm('Are you sure you want to submit your answer? You cannot change it afterward.')) {
                    alert('Answer submitted successfully!');
                    window.location.href = 'student-dashboard.html';
                }
            });
        });
    </script>
</body>
</html>